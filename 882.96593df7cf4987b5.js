"use strict";(self.webpackChunkwirepharma=self.webpackChunkwirepharma||[]).push([[882],{4882:(It,u,s)=>{s.r(u),s.d(u,{CrmModule:()=>wt});var m=s(5357),v=s(499),t=s(5e3);let Z=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["ath-crm"]],decls:1,vars:0,template:function(e,o){1&e&&t._UZ(0,"router-outlet")},directives:[m.lC],encapsulation:2}),n})(),T=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["crm-customers"]],decls:1,vars:0,template:function(e,o){1&e&&t._UZ(0,"router-outlet")},directives:[m.lC],encapsulation:2}),n})();var c=s(3075),g=s(6087),d=s(4847),b=s(9646),A=s(7579),k=s(2722),w=s(8288),x=s(1135),y=s(8505),I=s(2340),L=s(520),f=s(5094);const U=I.N.API_URL;let J=(()=>{class n{constructor(e,o){this._httpClient=e,this.store=o,this._customers=new x.X([]),this._pagination=new x.X(null)}get customers$(){return this._customers.asObservable()}get pagination$(){return this._pagination.asObservable()}getCustomers(){return this._httpClient.get(`${U}/customers/`).pipe((0,y.b)(e=>{this._customers.next(e.customers)}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN),t.LFG(f.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var q=s(1927),p=s(7322),C=s(5245),Q=s(7531),a=s(9808),N=s(7423),h=s(7238),F=s(2494),Y=s(7446);const O=["htmlOrderList"];function M(n,i){1&n&&t.GkF(0)}const E=function(n){return{$implicit:n}};function S(n,i){if(1&n&&(t.ynx(0),t.YNc(1,M,1,0,"ng-container",33),t.BQk()),2&n){const e=t.oxw().$implicit;t.oxw(4);const o=t.MAs(13);t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(2,E,e))}}const j=function(n,i,e,o,r,l){return{"bg-pink-200 text-pink-800 dark:bg-pink-600 dark:text-pink-50":n,"bg-teal-200 text-teal-800 dark:bg-teal-600 dark:text-teal-50":i,"bg-orange-200 text-orange-800 dark:bg-orange-600 dark:text-orange-50":e,"bg-yellow-200 text-yellow-800 dark:bg-yellow-600 dark:text-yellow-50":o,"bg-green-200 text-green-800 dark:bg-green-600 dark:text-green-50":r,"bg-red-200 text-red-800 dark:bg-red-600 dark:text-red-50":l}};function $(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",22)(2,"div",23),t._uU(3),t.qZA(),t.TgZ(4,"div",24),t._uU(5),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"div",25),t._uU(8),t.qZA(),t.TgZ(9,"div",25),t._uU(10),t.qZA(),t.TgZ(11,"div",16),t._uU(12),t.qZA(),t.TgZ(13,"div",18),t._uU(14),t.ALo(15,"number"),t.qZA(),t.TgZ(16,"div",26)(17,"span",27)(18,"span",28),t._uU(19),t.qZA()()(),t.TgZ(20,"div",29)(21,"button",30),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(4).viewPurchaseOrder(l._id)}),t._UZ(22,"mat-icon",31),t.qZA(),t.TgZ(23,"button",32),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(4).toggleDetails(l._id)}),t._UZ(24,"mat-icon",31),t.qZA()()(),t.TgZ(25,"div",13),t.YNc(26,S,2,4,"ng-container",9),t.qZA(),t.BQk()}if(2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(3),t.hij(" ",e.tracking," "),t.xp6(2),t.hij(" ",t.xi3(6,12,e.createdAt,"shortDate")," "),t.xp6(3),t.hij(" ",e.beneficiary.fullName," "),t.xp6(2),t.hij(" ",e.businessId.name," "),t.xp6(2),t.hij(" ",e.products.length," "),t.xp6(2),t.hij(" ",t.xi3(15,15,e.total,"1.2-2")," "),t.xp6(3),t.Q6J("ngClass",t.HTZ(18,j,"Pendiente de pago"===e.status,"Pagada"===e.status,"Lista"===e.status,"Transportando"===e.status,"Entregada"===e.status,"Cancelada"===e.status)),t.xp6(2),t.Oqu(e.status),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:document-text"),t.xp6(1),t.Q6J("matTooltip",(null==o.selectedOrder?null:o.selectedOrder._id)===e._id?"Cerrar panel de estados":"Actualizar estado"),t.xp6(1),t.Q6J("svgIcon",(null==o.selectedOrder?null:o.selectedOrder._id)===e._id?"heroicons_solid:chevron-up":"heroicons_solid:refresh"),t.xp6(2),t.Q6J("ngIf",(null==o.selectedOrder?null:o.selectedOrder.id)===e.id)}}function D(n,i){if(1&n&&(t.ynx(0),t.YNc(1,$,27,25,"ng-container",21),t.BQk()),2&n){const e=i.ngIf,o=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e)("ngForTrackBy",o.trackByFn)}}const H=function(n){return{"pointer-events-none":n}},B=function(){return[5,10,25,100]};function z(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",13)(2,"div",14)(3,"div",15),t._uU(4," N\xfamero "),t.qZA(),t.TgZ(5,"div",16),t._uU(6," Fecha "),t.qZA(),t.TgZ(7,"div",17),t._uU(8," Beneficiario "),t.qZA(),t.TgZ(9,"div",16),t._uU(10," Cantidad de productos "),t.qZA(),t.TgZ(11,"div",18),t._uU(12," Importe "),t.qZA(),t.TgZ(13,"div",16),t._uU(14," Estado "),t.qZA(),t.TgZ(15,"div",19),t._uU(16," Acciones "),t.qZA()(),t.YNc(17,D,2,2,"ng-container",9),t.ALo(18,"async"),t.qZA(),t._UZ(19,"mat-paginator",20),t.BQk()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("mat-sort-header","orderNo"),t.xp6(14),t.Q6J("ngIf",t.lcZ(18,8,e.customers$)),t.xp6(2),t.Q6J("ngClass",t.VKq(10,H,e.isLoading))("length",e.pagination.length)("pageIndex",e.pagination.page)("pageSize",e.pagination.size)("pageSizeOptions",t.DdM(12,B))("showFirstLastButtons",!0)}}function R(n,i){if(1&n&&(t.ynx(0),t.YNc(1,z,20,13,"ng-container",12),t.BQk()),2&n){const e=i.ngIf;t.oxw();const o=t.MAs(15);t.xp6(1),t.Q6J("ngIf",e.length>0)("ngIfElse",o)}}function P(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"fuse-alert",50)(2,"span",51),t._uU(3),t.qZA(),t._uU(4),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("type","success")("appearance","outline"),t.xp6(2),t.Oqu(e.alertTitle),t.xp6(1),t.hij(" ",e.alertMessage," ")}}function G(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"fuse-alert",50)(2,"span",51),t._uU(3),t.qZA(),t._uU(4),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("type","error")("appearance","outline"),t.xp6(2),t.Oqu(e.alertTitle),t.xp6(1),t.hij(" ",e.alertMessage," ")}}function X(n,i){if(1&n&&(t.TgZ(0,"div",49),t.YNc(1,P,5,4,"ng-container",9),t.YNc(2,G,5,4,"ng-container",9),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf","success"===e.flashMessage),t.xp6(1),t.Q6J("ngIf","error"===e.flashMessage)}}function W(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.createdAt))}}function V(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.createdAt,"hh:mm:ss a"))}}function K(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.payedAt))}}function tt(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.payedAt,"hh:mm:ss a"))}}function et(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.readyAt))}}function nt(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.readyAt,"hh:mm:ss a"))}}function ot(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",56),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).setReadyStatus()}),t._UZ(1,"mat-icon",57),t.qZA()}2&n&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:check"))}function it(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).setReadyStatus()}),t._UZ(1,"mat-icon",59),t.qZA()}2&n&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:x"))}function st(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",29),t.YNc(1,ot,2,1,"button",52),t.YNc(2,it,2,1,"button",53),t.TgZ(3,"button",54),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).saveReadyStatus()}),t._UZ(4,"mat-icon",55),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.ready),t.xp6(1),t.Q6J("ngIf",e.ready),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:refresh")}}function rt(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.shippedAt))}}function ct(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.shippedAt,"hh:mm:ss a"))}}function at(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",62),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).setShippedStatus()}),t._UZ(1,"mat-icon",57),t.qZA()}2&n&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:check"))}function lt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",63),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).setShippedStatus()}),t._UZ(1,"mat-icon",59),t.qZA()}2&n&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:x"))}function mt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",29),t.YNc(1,at,2,1,"button",60),t.YNc(2,lt,2,1,"button",61),t.TgZ(3,"button",54),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).saveShippedStatus()}),t._UZ(4,"mat-icon",55),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.shipped),t.xp6(1),t.Q6J("ngIf",e.shipped),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:refresh")}}function dt(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.deliveredAt))}}function pt(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.deliveredAt,"hh:mm:ss a"))}}function _t(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",66),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).setDeliveredStatus()}),t._UZ(1,"mat-icon",57),t.qZA()}2&n&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:check"))}function ut(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",67),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).setDeliveredStatus()}),t._UZ(1,"mat-icon",59),t.qZA()}2&n&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:x"))}function gt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",29),t.YNc(1,_t,2,1,"button",64),t.YNc(2,ut,2,1,"button",65),t.TgZ(3,"button",54),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).saveDeliveredStatus()}),t._UZ(4,"mat-icon",55),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.delivered),t.xp6(1),t.Q6J("ngIf",e.delivered),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:refresh")}}function xt(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,e.canceledAt))}}function ft(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.canceledAt,"hh:mm:ss a"))}}function Ct(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",70),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).setCanceledStatus()}),t._UZ(1,"mat-icon",57),t.qZA()}2&n&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:check"))}function ht(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",71),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).setCanceledStatus()}),t._UZ(1,"mat-icon",59),t.qZA()}2&n&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:x"))}function vt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",29),t.YNc(1,Ct,2,1,"button",68),t.YNc(2,ht,2,1,"button",69),t.TgZ(3,"button",54),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).saveCanceledStatus()}),t._UZ(4,"mat-icon",55),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",!e.canceled),t.xp6(1),t.Q6J("ngIf",e.canceled),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:refresh")}}function Zt(n,i){if(1&n&&(t.TgZ(0,"div",42),t._UZ(1,"mat-checkbox",45),t.TgZ(2,"span"),t._uU(3," Cancelada "),t.qZA(),t.YNc(4,xt,3,3,"span",9),t.YNc(5,ft,3,4,"span",9),t.YNc(6,vt,5,3,"div",46),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.Q6J("color","primary")("checked",o.canceled)("formControlName","canceled"),t.xp6(3),t.Q6J("ngIf","0001-01-01T00:00:00"!==e.canceledAt),t.xp6(1),t.Q6J("ngIf","0001-01-01T00:00:00"!==e.canceledAt),t.xp6(1),t.Q6J("ngIf",!o.delivered)}}function Tt(n,i){1&n&&(t.TgZ(0,"div",72)(1,"mat-form-field",73)(2,"mat-label"),t._uU(3,"Motivos de la cancelaci\xf3n de la orden"),t.qZA(),t._UZ(4,"textarea",74),t.qZA()()),2&n&&(t.xp6(4),t.Q6J("formControlName","cancelObs"))}function bt(n,i){if(1&n&&(t.TgZ(0,"div",34)(1,"div",35)(2,"form",36)(3,"div",37)(4,"div",38)(5,"span",39),t._uU(6,"Actualizar estado"),t.qZA(),t.YNc(7,X,3,2,"div",40),t.TgZ(8,"div",41)(9,"div",42),t._UZ(10,"mat-checkbox",43),t.TgZ(11,"span"),t._uU(12," Pendiente de Pago "),t.qZA(),t.YNc(13,W,3,3,"span",9),t.YNc(14,V,3,4,"span",9),t.qZA(),t.TgZ(15,"div",42),t._UZ(16,"mat-checkbox",44),t.TgZ(17,"span"),t._uU(18," Pagada "),t.qZA(),t.YNc(19,K,3,3,"span",9),t.YNc(20,tt,3,4,"span",9),t.qZA(),t.TgZ(21,"div",42),t._UZ(22,"mat-checkbox",45),t.TgZ(23,"span"),t._uU(24," Lista "),t.qZA(),t.YNc(25,et,3,3,"span",9),t.YNc(26,nt,3,4,"span",9),t.YNc(27,st,5,3,"div",46),t.qZA(),t.TgZ(28,"div",42),t._UZ(29,"mat-checkbox",45),t.TgZ(30,"span"),t._uU(31," Transportando "),t.qZA(),t.YNc(32,rt,3,3,"span",9),t.YNc(33,ct,3,4,"span",9),t.YNc(34,mt,5,3,"div",46),t.qZA(),t.TgZ(35,"div",42),t._UZ(36,"mat-checkbox",45),t.TgZ(37,"span"),t._uU(38," Entregada "),t.qZA(),t.YNc(39,dt,3,3,"span",9),t.YNc(40,pt,3,4,"span",9),t.YNc(41,gt,5,3,"div",46),t.qZA(),t.YNc(42,Zt,7,6,"div",47),t.qZA(),t.YNc(43,Tt,5,1,"div",48),t.qZA()()()()()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(2),t.Q6J("formGroup",o.selectedOrderForm),t.xp6(5),t.Q6J("ngIf",o.flashMessage),t.xp6(3),t.Q6J("color","primary")("checked",!0)("disabled",!0),t.xp6(3),t.Q6J("ngIf","0001-01-01T00:00:00"!==e.createdAt),t.xp6(1),t.Q6J("ngIf","0001-01-01T00:00:00"!==e.createdAt),t.xp6(2),t.Q6J("color","primary")("formControlName","payed"),t.xp6(3),t.Q6J("ngIf","0001-01-01T00:00:00"!==e.payedAt),t.xp6(1),t.Q6J("ngIf","0001-01-01T00:00:00"!==e.payedAt),t.xp6(2),t.Q6J("color","primary")("checked",o.ready)("formControlName","ready"),t.xp6(3),t.Q6J("ngIf","0001-01-01T00:00:00"!==e.readyAt),t.xp6(1),t.Q6J("ngIf","0001-01-01T00:00:00"!==e.readyAt),t.xp6(1),t.Q6J("ngIf",o.payed&&!o.canceled&&!o.shipped),t.xp6(2),t.Q6J("color","primary")("checked",o.shipped)("formControlName","shipped"),t.xp6(3),t.Q6J("ngIf","0001-01-01T00:00:00"!==e.shippedAt),t.xp6(1),t.Q6J("ngIf","0001-01-01T00:00:00"!==e.shippedAt),t.xp6(1),t.Q6J("ngIf",o.ready&&!o.canceled&&!o.delivered),t.xp6(2),t.Q6J("color","primary")("checked",o.delivered)("formControlName","delivered"),t.xp6(3),t.Q6J("ngIf","0001-01-01T00:00:00"!==e.deliveredAt),t.xp6(1),t.Q6J("ngIf","0001-01-01T00:00:00"!==e.deliveredAt),t.xp6(1),t.Q6J("ngIf",o.shipped&&!o.canceled),t.xp6(1),t.Q6J("ngIf",!(o.ready||o.shipped||o.delivered)),t.xp6(1),t.Q6J("ngIf",o.canceled)}}function At(n,i){1&n&&(t.TgZ(0,"div",75),t._uU(1,"\xa1No se ha registrado ning\xfan cliente!"),t.qZA())}const kt=[{path:"",pathMatch:"full",redirectTo:"panels"},{path:"panels",component:Z,children:[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["crm-panel"]],decls:57,vars:2,consts:[[1,"flex","flex-col","flex-auto","w-full"],[1,"flex","flex-wrap","w-full","max-w-screen-xl","p-6","mx-auto","md:p-8"],[1,"flex","items-center","justify-between","w-full"],[1,"text-3xl","font-semibold","leading-8","tracking-tight"],[1,"font-medium","tracking-tight","text-secondary"],[1,"grid","w-full","grid-cols-1","gap-8","mt-6","sm:grid-cols-2","lg:grid-cols-4","md:mt-8"],["routerLink","/crm/panels/customers",1,"flex","flex-col","flex-auto","p-6","overflow-hidden","transition-shadow","duration-100","ease-linear","shadow","cursor-pointer","bg-card","rounded-2xl","hover:shadow-lg"],[1,"flex","items-start","justify-between"],[1,"text-lg","font-medium","leading-6","tracking-tight","truncate"],[1,"ml-2"],[1,"h-6","px-2","rounded-lg","min-h-6","bg-primary-100"],[1,"font-mono","text-lg","font-medium","text-primary-900"],[1,"flex","flex-col","flex-auto","p-6","overflow-hidden","transition-shadow","duration-100","ease-linear","shadow","cursor-pointer","bg-card","rounded-2xl","hover:shadow-lg"],[1,"w-full","mt-12"],[1,"text-2xl","font-semibold","leading-6","tracking-tight"],[1,"flex","flex-col","flex-auto","p-6","overflow-hidden","shadow","bg-card","rounded-2xl"],[1,"flex","items-start","justify-start"],[1,"mr-3",3,"svgIcon"],[1,"flex","flex-col","mt-5"],["routerLink","/crm/panels/customers",1,"flex","items-center","justify-start","p-1.5","cursor-pointer","rounded-lg","hover:bg-hover"],[1,"flex","items-center","justify-center","w-6","h-6","mr-3","rounded-lg","bg-primary-100"],[1,"w-1","h-1","rounded-full","bg-primary-900"],[1,"text-lg","leading-6","tracking-tight"],["matTooltip","En desarrollo",1,"flex","items-center","justify-start","p-1.5","cursor-not-allowed","rounded-lg","hover:bg-hover"],[1,"flex","items-center","justify-center","w-6","h-6","mr-3","rounded-lg","bg-slate-100"],[1,"w-1","h-1","rounded-full","bg-slate-900"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),t._uU(5,"CRM"),t.qZA(),t.TgZ(6,"div",4),t._uU(7," Este m\xf3dulo est\xe1 dedicado a todos los componentes de la gesti\xf3n e interacci\xf3n con los clientes. "),t.qZA()()(),t.TgZ(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8),t._uU(12,"Clientes"),t.qZA(),t.TgZ(13,"div",9)(14,"div",10)(15,"span",11),t._uU(16,"0"),t.qZA()()()()(),t.TgZ(17,"div",12)(18,"div",7)(19,"div",8),t._uU(20,"Estad\xedsticas"),t.qZA()()()(),t.TgZ(21,"div",13)(22,"div",14),t._uU(23,"Reportes y Listados"),t.qZA()(),t.TgZ(24,"div",5)(25,"div",15)(26,"div",16),t._UZ(27,"mat-icon",17),t.TgZ(28,"div",8),t._uU(29,"Ventas"),t.qZA()(),t.TgZ(30,"div",18)(31,"div",19)(32,"div",20),t._UZ(33,"div",21),t.qZA(),t.TgZ(34,"div",22),t._uU(35,"Clientes"),t.qZA()(),t.TgZ(36,"div",23)(37,"div",24),t._UZ(38,"div",25),t.qZA(),t.TgZ(39,"div",22),t._uU(40,"Reclamaciones"),t.qZA()()()(),t.TgZ(41,"div",15)(42,"div",16),t._UZ(43,"mat-icon",17),t.TgZ(44,"div",8),t._uU(45,"Comunicaciones"),t.qZA()(),t.TgZ(46,"div",18)(47,"div",23)(48,"div",24),t._UZ(49,"div",25),t.qZA(),t.TgZ(50,"div",22),t._uU(51,"Env\xedo de correo"),t.qZA()(),t.TgZ(52,"div",23)(53,"div",24),t._UZ(54,"div",25),t.qZA(),t.TgZ(55,"div",22),t._uU(56,"Telegram"),t.qZA()()()()()()()),2&e&&(t.xp6(27),t.Q6J("svgIcon","heroicons_outline:document-text"),t.xp6(16),t.Q6J("svgIcon","heroicons_outline:document-text"))},directives:[m.rH,C.Hw,h.gM],encapsulation:2}),n})()},{path:"customers",component:T,children:[{path:"",component:(()=>{class n{constructor(e,o,r,l,_,yt){this._changeDetectorRef=e,this._customersService=o,this._formBuilder=r,this._fileSaverService=l,this._router=_,this.store=yt,this.alertMessage=null,this.alertTitle=null,this.canceled=!1,this.delivered=!1,this.flashMessage=null,this.isLoading=!1,this.customer=null,this.customers=[],this.customers$=(0,b.of)([]),this.searchInputControl=new c.NI,this.selectedCustomer=null,this._unsubscribeAll=new A.x}ngOnInit(){this._customersService.pagination$.pipe((0,k.R)(this._unsubscribeAll)).subscribe(e=>{this.pagination=e,this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closeDetails(){this.selectedCustomer=null}exportAsExcelFile(){this._fileSaverService.exportAsExcelFile(this.customers,"customers")}exportAsCsvFile(){this._fileSaverService.exportAsCsvFile(this.customers,"customers")}toggleDetails(e){this.selectedCustomer&&this.selectedCustomer._id===e&&this.closeDetails()}showFlashMessage(e,o){this.flashMessage=e,this.alertMessage=o,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.flashMessage=null,this._changeDetectorRef.markForCheck()},5e3)}trackByFn(e,o){return o.id||e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(J),t.Y36(c.qu),t.Y36(q.m),t.Y36(m.F0),t.Y36(f.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["crm-customers-list"]],viewQuery:function(e,o){if(1&e&&(t.Gf(O,5),t.Gf(g.NW,5),t.Gf(d.YE,5)),2&e){let r;t.iGM(r=t.CRH())&&(o.htmlOrderList=r.first),t.iGM(r=t.CRH())&&(o._paginator=r.first),t.iGM(r=t.CRH())&&(o._sort=r.first)}},decls:16,vars:7,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"text-4xl","font-extrabold","tracking-tight"],[1,"flex","items-center","mt-6","shrink-0","sm:mt-0","sm:ml-4"],[1,"fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","min-w-64"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","overflow-hidden","sm:mb-18","sm:overflow-y-auto"],[4,"ngIf"],["rowDetailsTemplate",""],["noCustomers",""],[4,"ngIf","ngIfElse"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","customers-grid","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[1,"",3,"mat-sort-header"],[1,"hidden","text-center","md:block"],[1,"hidden","xl:block"],[1,"hidden","text-right","sm:block"],[1,"text-center"],[1,"z-10","border-b","sm:absolute","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","customers-grid","md:px-8"],[1,""],[1,"hidden","text-center","truncate","md:block"],[1,"hidden","truncate","xl:block"],[1,"items-center","hidden","text-center","md:block"],[1,"inline-flex","items-center","font-bold","text-xs","px-2.5","py-0.5","rounded-full","tracking-wide","uppercase",3,"ngClass"],[1,"leading-relaxed","whitespace-nowrap"],[1,"flex","flex-col","items-center","justify-center","gap-1","md:flex-row"],["mat-stroked-button","","matTooltip","Ver orden",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"matTooltip","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"overflow-hidden","border-l","border-r","bg-gray-50"],[1,"flex","border-b"],[1,"flex","flex-col","w-full",3,"formGroup"],[1,"flex","flex-col","p-8","sm:flex-row"],[1,"flex","flex-col","w-full"],[1,"mb-5","font-semibold"],["class","flex items-center justify-center pb-5",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","justify-evenly"],[1,"flex","flex-col","w-full","gap-2","text-center"],[3,"color","checked","disabled"],[3,"color","formControlName"],[3,"color","checked","formControlName"],["class","flex flex-col items-center justify-center gap-1 md:flex-row",4,"ngIf"],["class","flex flex-col w-full gap-2 text-center",4,"ngIf"],["class","flex items-center justify-center py-5",4,"ngIf"],[1,"flex","items-center","justify-center","pb-5"],[3,"type","appearance"],["fuseAlertTitle",""],["class","px-2 leading-6 min-w-10 min-h-7 h-7","mat-stroked-button","","matTooltip","Establecer orden lista para recoger o entregar",3,"click",4,"ngIf"],["class","px-2 leading-6 min-w-10 min-h-7 h-7","mat-stroked-button","","matTooltip","Cancelar el estado de la orden",3,"click",4,"ngIf"],["mat-stroked-button","","matTooltip","Actualizar estado",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"text-blue-400","icon-size-5",3,"svgIcon"],["mat-stroked-button","","matTooltip","Establecer orden lista para recoger o entregar",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"text-green-400","icon-size-5",3,"svgIcon"],["mat-stroked-button","","matTooltip","Cancelar el estado de la orden",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"text-red-400","icon-size-5",3,"svgIcon"],["class","px-2 leading-6 min-w-10 min-h-7 h-7","mat-stroked-button","","matTooltip","Confirmar env\xedo",3,"click",4,"ngIf"],["class","px-2 leading-6 min-w-10 min-h-7 h-7","mat-stroked-button","","matTooltip","Cancelar confirmaci\xf3n de env\xedo",3,"click",4,"ngIf"],["mat-stroked-button","","matTooltip","Confirmar env\xedo",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],["mat-stroked-button","","matTooltip","Cancelar confirmaci\xf3n de env\xedo",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],["class","px-2 leading-6 min-w-10 min-h-7 h-7","mat-stroked-button","","matTooltip","Confirmar entrega",3,"click",4,"ngIf"],["class","px-2 leading-6 min-w-10 min-h-7 h-7","mat-stroked-button","","matTooltip","Cancelar confirmaci\xf3n de entrega",3,"click",4,"ngIf"],["mat-stroked-button","","matTooltip","Confirmar entrega",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],["mat-stroked-button","","matTooltip","Cancelar confirmaci\xf3n de entrega",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],["class","px-2 leading-6 min-w-10 min-h-7 h-7","mat-stroked-button","","matTooltip","Cancelar orden",3,"click",4,"ngIf"],["class","px-2 leading-6 min-w-10 min-h-7 h-7","mat-stroked-button","","matTooltip","Rechazar cancelaci\xf3n",3,"click",4,"ngIf"],["mat-stroked-button","","matTooltip","Cancelar orden",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],["mat-stroked-button","","matTooltip","Rechazar cancelaci\xf3n",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"flex","items-center","justify-center","py-5"],[1,"w-full","fuse-mat-textarea"],["matInput","",3,"formControlName"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Clientes"),t.qZA(),t.TgZ(4,"div",3)(5,"mat-form-field",4),t._UZ(6,"mat-icon",5)(7,"input",6),t.qZA()()(),t.TgZ(8,"div",7)(9,"div",8),t.YNc(10,R,2,2,"ng-container",9),t.ALo(11,"async"),t.YNc(12,bt,44,31,"ng-template",null,10,t.W1O),t.YNc(14,At,2,0,"ng-template",null,11,t.W1O),t.qZA()()()),2&e&&(t.xp6(6),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("formControl",o.searchInputControl)("autocomplete","off")("placeholder","Buscar clientes"),t.xp6(3),t.Q6J("ngIf",t.lcZ(11,5,o.customers$)))},directives:[p.KE,C.Hw,p.qo,Q.Nt,c.Fj,c.JJ,c.oH,a.O5,d.YE,d.nU,a.sg,a.mk,N.lW,h.gM,a.tP,g.NW,c._Y,c.JL,c.sg,F.W,Y.oG,c.u,p.hX],pipes:[a.Ov,a.uU,a.JJ],styles:[".customers-grid{grid-template-columns:48px auto 40px}@media (min-width: 600px){.customers-grid{grid-template-columns:48px auto 112px 72px}}@media (min-width: 960px){.customers-grid{grid-template-columns:48px 112px auto 112px 72px}}@media (min-width: 1280px){.customers-grid{grid-template-columns:48px 112px auto 112px 96px 96px 72px}}\n"],encapsulation:2,data:{animation:w.L},changeDetection:0}),n})()}]}]}];let wt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[m.Bz.forChild(kt),v.m]]}),n})()}}]);