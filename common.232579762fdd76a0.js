"use strict";(self.webpackChunkwirepharma=self.webpackChunkwirepharma||[]).push([[592],{7231:(O,d,t)=>{t.d(d,{C:()=>r});var i=t(520),p=t(2340),h=t(5e3);const l=p.N.API_URL;let r=(()=>{class n{constructor(o){this._httpClient=o}uploadImage(o,a){const c=new FormData;return c.append("image",a,a.name),this._httpClient.post(`${l}/cloudinary/upload/${o}`,c)}removeImage(o){const a=o.slice(o.indexOf("wirepharma"),o.length).split(".")[0],c=(new i.LE).set("public_id",a);return this._httpClient.delete(`${l}/cloudinary/remove`,{params:c})}}return n.\u0275fac=function(o){return new(o||n)(h.LFG(i.eN))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},1910:(O,d,t)=>{t.d(d,{Qs:()=>h,UV:()=>l});var i=t(5094);const p=r=>r.merchants,h=(0,i.P1)(p,r=>r.merchant),l=(0,i.P1)(p,r=>r.merchants)},1349:(O,d,t)=>{t.d(d,{N:()=>R});var i=t(1135),p=t(2843),h=t(9646),l=t(5698),r=t(3900),n=t(4004),P=t(8505),o=t(2340),a=t(5e3),c=t(520);const u=o.N.API_URL;let R=(()=>{class E{constructor(e){this._httpClient=e,this._singleRole=new i.X(null),this._roles=new i.X(null),this._permissions=new i.X(null)}get singleRole$(){return this._singleRole.asObservable()}get roles$(){return this._roles.asObservable()}get permissions$(){return this._permissions.asObservable()}createRole(e){return this.roles$.pipe((0,l.q)(1),(0,r.w)(s=>this._httpClient.post(`${u}/roles/`,e).pipe((0,n.U)(_=>(this._roles.next([_.role,...s]),_.role)))))}getRoles(){return this._httpClient.get(`${u}/roles/`).pipe((0,P.b)(e=>{this._roles.next(e.roles)}))}getPermissions(){return this._httpClient.get(`${u}/roles/permissions/`).pipe((0,P.b)(e=>{this._permissions.next(e.permissions)}))}getByUserId(e){return this._httpClient.get(`${u}/users/${e}/roles`).pipe((0,n.U)(s=>s.roles))}getRoleById(e){return this._roles.pipe((0,l.q)(1),(0,n.U)(s=>{const _=s.find(m=>m._id===e)||null;return this._singleRole.next(_),_}),(0,r.w)(s=>s?(0,h.of)(s):(0,p._)("No existe un rol con el:"+e+"!")))}updateRole(e){return this.roles$.pipe((0,l.q)(1),(0,r.w)(s=>this._httpClient.patch(`${u}/roles/${e._id}`,e).pipe((0,n.U)(_=>{const m=s.findIndex(v=>v._id===e._id);return s[m]=_.updatedRole,this._roles.next(s),_.updatedRole}))))}deleteRole(e){return this.roles$.pipe((0,l.q)(1),(0,r.w)(s=>this._httpClient.delete(`${u}/roles/${e} `).pipe((0,n.U)(_=>{const m=s.findIndex(v=>v._id===e);return s.splice(m,1),this._roles.next(s),_}))))}}return E.\u0275fac=function(e){return new(e||E)(a.LFG(c.eN))},E.\u0275prov=a.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()}}]);